"use strict";Object.defineProperty(exports, "__esModule", { value: true });exports["default"] = PrimitiveParser;function _typeof(obj) {"@babel/helpers - typeof";return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) {return typeof obj;} : function (obj) {return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;}, _typeof(obj);}function _defineProperty(obj, key, value) {key = _toPropertyKey(key);if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}function _toPropertyKey(arg) {var key = _toPrimitive(arg, "string");return _typeof(key) === "symbol" ? key : String(key);}function _toPrimitive(input, hint) {if (_typeof(input) !== "object" || input === null) return input;var prim = input[Symbol.toPrimitive];if (prim !== undefined) {var res = prim.call(input, hint || "default");if (_typeof(res) !== "object") return res;throw new TypeError("@@toPrimitive must return a primitive value.");}return (hint === "string" ? String : Number)(input);}function PrimitiveParser(obj) {
  var uniqueArray = function uniqueArray(a) {
    return a.filter(function (v, i) {return a.indexOf(v) === i;});
  };
  var structure = {
    get: function get(target, prop, receiver) {
      if (prop === "add") {
        return function () {
          var item = arguments[0];
          if (arguments[1]) {
            var path = receiver.fromPath(arguments[1], true);

            if (!path) {
              console.warn("Path not found");
              console.log(path);
              return undefined;
            }
            return path.add(item);
          }
          if (!(target instanceof Array)) {
            if (!(null in target)) {
              target[null] = [];
            }
            target = target["null"];
          }
          target.push(item);
          return receiver;
        };
      }
      if (prop === "remove") {
        return function () {
          var item = arguments[0];
          if (arguments[1]) {
            var path = receiver.fromPath(arguments[1]);

            if (!path) {
              console.warn("Path not found");
              console.log(path);
              return undefined;
            }
            return path.remove(item);
          }
          if (!(target instanceof Array)) {
            target = target["null"];
          }
          var idx = target.findIndex(function (i) {return i === item;});
          while (idx > -1) {
            target.splice(idx, 1);
            idx = target.findIndex(function (i) {return i === item;});
          }

          return receiver;
        };
      }
      if (prop === "move") {
        return function () {
          var item = arguments[0];
          var from = receiver.fromPath(arguments[1]);
          var to = receiver.fromPath(arguments[2], true);
          if (from && to) {
            from.remove(item);
          }
          if (to) {
            to.add(item);
          }
          return to;
        };
      }

      if (prop === "includes") {
        return function () {
          var value = arguments[0];
          var find = function find(v) {
            return Object.values(v).reduce(function (r, d) {
              if (d instanceof Object) {
                return r || find(d);
              } else {
                return r || d === value;
              }
            }, false);
          };
          return find(target);
        };
      }
      if (prop === "paths") {
        return function () {
          var id = arguments[0];
          var find = function find(v, path) {
            var out = [];
            if (v instanceof Array) {
              if (v.includes(id)) {
                out.push(path);
              }
              v.filter(function (d) {return d instanceof Object;}).forEach(function (d) {
                out.push(Object.keys(d).map(function (k) {
                  return find(d[k], path + "." + k);
                }));
              });
            } else {
              out.push(Object.keys(v).map(function (k) {
                return find(v[k], path + "." + k);
              }));
            }
            out = out.flat(2).filter(function (d) {return d !== undefined;});
            return out.length > 0 ? out : undefined;
          };
          var result = find(target, "");
          if (arguments.length == 2) {
            var str = arguments[1] instanceof Array ? ".".concat(arguments[1].join('.'), ".") : arguments[1];
            var len = str.length;
            result = result.filter(function (p) {return p.slice(0, len) === str;});
          }
          if (result) {
            result = result.map(function (p) {return p.replace(/^\.null/, "");});
          }
          return result;
        };
      }
      if (prop === "relationships") {
        return function () {
          var path = receiver.paths.apply(receiver, arguments);
          return path === null || path === void 0 ? void 0 : path.map(function (p) {return p.split('.').slice(-1)[0];});
        };
      }

      if (prop === "all") {
        return target;
      }
      if (prop === "ids" && target instanceof Array) {
        return target.map(function (d) {
          if (d instanceof Object) {
            return undefined;
          } else {
            return d;
          }}).filter(function (d) {return d;});
      }
      if (prop === "uniqueIds" && target instanceof Array) {
        return uniqueArray(receiver.ids);
      }

      if (prop === "allIds") {
        var flatten = function flatten(v) {
          return Object.values(v).map(function (d) {
            if (d instanceof Object) {
              return flatten(d);
            } else {
              return d;
            }
          }).flat();
        };
        return flatten(target);
      }
      if (prop === "uniqueAllIds") {
        return uniqueArray(receiver.allIds);
      }
      if (prop === "filter" || prop === "length" || prop === "map") {
        var base = receiver.allItems;
        var value = base[prop];
        if (value instanceof Function) {
          return function () {for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {args[_key] = arguments[_key];}
            return value.apply(base, args);
          };
        }
      }
      if (Array.isArray(target)) {
        var out;
        target.forEach(function (d) {
          if (d instanceof Object) {
            if (prop in d) {
              out = d[prop];
            }
          }
        });
        if (out) {
          return new Proxy(out, structure);
        }
        if (prop in target) {
          var _value = target[prop];
          if (_value instanceof Function) {
            return function () {for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {args[_key2] = arguments[_key2];}
              return _value.apply(this === receiver ? target : this, args);
            };
          }
          return _value;
        }
      }
      if (prop in target) {
        return new Proxy(target[prop], structure);
      } else {
        var s = prop.toString();
        if (s in target) {
          return new Proxy(target[s], structure);
        }
      }
      if (prop === "underlying") {
        return target;
      }
      if (prop === "fromPath") {
        return function (path) {var create = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
          var node = receiver;
          if (typeof path === "string") {
            path = path.split('.');
            var last = path.pop();
            if (path.length === 0) {
              path = last;
            } else {

              path = path.reverse().reduce(function (o, c, idx) {
                return _defineProperty({}, c, idx === 0 ? last : o);
              }, {});
            }
          }

          var addNode = function addNode(last, step, prevLast, prevStep) {
            var underlying = last.underlying;
            console.log("adding ".concat(step));
            if (Array.isArray(underlying)) {
              if (underlying.length === 0 && prevLast) {
                if (Array.isArray(prevLast)) {
                  var arr = prevLast.underlying.find(function (d) {return Object.keys(d)[0] == prevStep;});
                  if (arr) {
                    arr[prevStep] = {};
                  }
                } else {
                  prevLast.underlying[prevStep] = {};
                }
                last = prevLast[prevStep];
                underlying = last.underlying;
                underlying[step] = [];
              } else {
                underlying.push(_defineProperty({}, step, []));
              }
            } else {
              underlying[step] = [];
            }
            return last;
          };

          var prevLast;
          var prevStep;
          while (path instanceof Object) {
            var step = Object.keys(path)[0];
            var _last = node;
            path = path[step];
            node = node[step];
            if (node === undefined) {
              if (create) {
                _last = addNode(_last, step, prevLast, prevStep);
                node = _last[step];
              } else {
                return undefined;
              }
            }
            prevLast = _last;
            prevStep = step;
          }
          if (!node[path] && create) {
            node = addNode(node, path, prevLast, prevStep);
          }
          return node[path];

        };
      }
      if (obj) {
        // was here
        if (prop === "items") {
          return receiver.ids.map(function (d) {return obj.primitive(d);}).filter(function (d) {return d;});
        }
        if (prop === "allItems") {
          return receiver.allIds.map(function (d) {return obj.primitive(d);}).filter(function (d) {return d;});
        }
        if (prop === "uniqueAllItems") {
          return receiver.uniqueAllIds.map(function (d) {return obj.primitive(d);}).filter(function (d) {return d;});
        }
        if (prop === "uniqueItems") {
          return receiver.uniqueIds.map(function (d) {return obj.primitive(d);}).filter(function (d) {return d;});
        }
        if (obj.types.includes(prop)) {
          return receiver.items.filter(function (p) {return p.type === prop;});
        }
        if (prop.slice(0, 6) === 'unique') {
          var type = prop.slice(6).toLowerCase();
          if (obj.types.includes(type)) {
            return receiver.uniqueItems.filter(function (p) {return p.type === type;});
          }
        }
        if (prop.slice(0, 9) === 'allUnique') {
          var _type = prop.slice(9).toLowerCase();
          if (obj.types.includes(_type)) {
            return receiver.uniqueAllItems.filter(function (p) {return p.type === _type;});
          }
        }
        if (prop.slice(0, 3) === 'all') {
          var _type2 = prop.slice(3).toLowerCase();
          if (obj.types.includes(_type2)) {
            return receiver.allItems.filter(function (p) {return p.type === _type2;});
          }
        }
      }
      if (target[null]) {
        return new Proxy(target[null], structure)[prop];
      } else {
        return new Proxy([], structure);
      }
    }
  };
  return structure;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcmltaXRpdmVQYXJzZXIiLCJvYmoiLCJ1bmlxdWVBcnJheSIsImEiLCJmaWx0ZXIiLCJ2IiwiaSIsImluZGV4T2YiLCJzdHJ1Y3R1cmUiLCJnZXQiLCJ0YXJnZXQiLCJwcm9wIiwicmVjZWl2ZXIiLCJpdGVtIiwiYXJndW1lbnRzIiwicGF0aCIsImZyb21QYXRoIiwiY29uc29sZSIsIndhcm4iLCJsb2ciLCJ1bmRlZmluZWQiLCJhZGQiLCJBcnJheSIsInB1c2giLCJyZW1vdmUiLCJpZHgiLCJmaW5kSW5kZXgiLCJzcGxpY2UiLCJmcm9tIiwidG8iLCJ2YWx1ZSIsImZpbmQiLCJPYmplY3QiLCJ2YWx1ZXMiLCJyZWR1Y2UiLCJyIiwiZCIsImlkIiwib3V0IiwiaW5jbHVkZXMiLCJmb3JFYWNoIiwia2V5cyIsIm1hcCIsImsiLCJmbGF0IiwibGVuZ3RoIiwicmVzdWx0Iiwic3RyIiwiY29uY2F0Iiwiam9pbiIsImxlbiIsInAiLCJzbGljZSIsInJlcGxhY2UiLCJwYXRocyIsImFwcGx5Iiwic3BsaXQiLCJpZHMiLCJmbGF0dGVuIiwiYWxsSWRzIiwiYmFzZSIsImFsbEl0ZW1zIiwiRnVuY3Rpb24iLCJfbGVuIiwiYXJncyIsIl9rZXkiLCJpc0FycmF5IiwiUHJveHkiLCJfbGVuMiIsIl9rZXkyIiwicyIsInRvU3RyaW5nIiwiY3JlYXRlIiwibm9kZSIsImxhc3QiLCJwb3AiLCJyZXZlcnNlIiwibyIsImMiLCJfZGVmaW5lUHJvcGVydHkiLCJhZGROb2RlIiwic3RlcCIsInByZXZMYXN0IiwicHJldlN0ZXAiLCJ1bmRlcmx5aW5nIiwiYXJyIiwicHJpbWl0aXZlIiwidW5pcXVlQWxsSWRzIiwidW5pcXVlSWRzIiwidHlwZXMiLCJpdGVtcyIsInR5cGUiLCJ0b0xvd2VyQ2FzZSIsInVuaXF1ZUl0ZW1zIiwidW5pcXVlQWxsSXRlbXMiXSwic291cmNlcyI6WyIuLi9zZXJ2ZXIvUHJpbWl0aXZlc1BhcnNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQcmltaXRpdmVQYXJzZXIob2JqKXtcbiAgICBjb25zdCB1bmlxdWVBcnJheSA9IChhKT0+e1xuICAgICAgICByZXR1cm4gYS5maWx0ZXIoKHYsaSk9PmEuaW5kZXhPZih2KSA9PT0gaSlcbiAgICB9XG4gICAgY29uc3Qgc3RydWN0dXJlID0ge1xuICAgICAgICAgICAgZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiggcHJvcCA9PT0gXCJhZGRcIiApe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdGVtID0gYXJndW1lbnRzWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggYXJndW1lbnRzWzFdICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IHJlY2VpdmVyLmZyb21QYXRoKGFyZ3VtZW50c1sxXSwgdHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggIXBhdGgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFBhdGggbm90IGZvdW5kYClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocGF0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGF0aC5hZGQoaXRlbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKHRhcmdldCBpbnN0YW5jZW9mIEFycmF5KSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKG51bGwgaW4gdGFyZ2V0KSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRbbnVsbF0gPSBbXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQubnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2goIGl0ZW0gKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlY2VpdmVyIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKCBwcm9wID09PSBcInJlbW92ZVwiICl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSBhcmd1bWVudHNbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBhcmd1bWVudHNbMV0gKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gcmVjZWl2ZXIuZnJvbVBhdGgoYXJndW1lbnRzWzFdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhcGF0aCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgUGF0aCBub3QgZm91bmRgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwYXRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXRoLnJlbW92ZShpdGVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICEodGFyZ2V0IGluc3RhbmNlb2YgQXJyYXkpICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0Lm51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpZHggPSB0YXJnZXQuZmluZEluZGV4KChpKT0+IGkgPT09IGl0ZW0gKVxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoaWR4ID4gLTEpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5zcGxpY2UoaWR4LDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ID0gdGFyZ2V0LmZpbmRJbmRleCgoaSk9PiBpID09PSBpdGVtIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlY2VpdmVyIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKCBwcm9wID09PSBcIm1vdmVcIiApe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdGVtID0gYXJndW1lbnRzWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZnJvbSA9ICByZWNlaXZlci5mcm9tUGF0aChhcmd1bWVudHNbMV0pXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG8gPSAgcmVjZWl2ZXIuZnJvbVBhdGgoYXJndW1lbnRzWzJdLCB0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGZyb20gJiYgdG8gKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tLnJlbW92ZShpdGVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHRvICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG8uYWRkKGl0ZW0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCBwcm9wID09PSBcImluY2x1ZGVzXCIgKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBhcmd1bWVudHNbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmQgPSAodik9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh2KS5yZWR1Y2UoKHIsIGQpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBkIGluc3RhbmNlb2YoT2JqZWN0KSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIgfHwgZmluZChkKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gciB8fCAoZCA9PT0gdmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbmQoIHRhcmdldCApXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoIHByb3AgPT09IFwicGF0aHNcIiApe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpZCA9IGFyZ3VtZW50c1swXVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmluZCA9ICh2LCBwYXRoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvdXQgPSBbXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCB2IGluc3RhbmNlb2YoQXJyYXkpICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCB2LmluY2x1ZGVzKCBpZCApKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKCBwYXRoIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LmZpbHRlcigoZCk9PmQgaW5zdGFuY2VvZihPYmplY3QpICkuZm9yRWFjaCgoZCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKCBPYmplY3Qua2V5cyhkKS5tYXAoKGspPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbmQoIGRba10sIHBhdGggKyBcIi5cIiArIGspXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goIE9iamVjdC5rZXlzKHYpLm1hcCgoayk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaW5kKCB2W2tdLCBwYXRoICsgXCIuXCIgKyBrKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0ID0gb3V0LmZsYXQoMikuZmlsdGVyKChkKT0+ZCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvdXQubGVuZ3RoID4gMCA/IG91dCA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGZpbmQoIHRhcmdldCwgXCJcIiApXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggYXJndW1lbnRzLmxlbmd0aCA9PSAyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RyID0gYXJndW1lbnRzWzFdIGluc3RhbmNlb2YoQXJyYXkpID8gYC4ke2FyZ3VtZW50c1sxXS5qb2luKCcuJyl9LmAgOiBhcmd1bWVudHNbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGVuID0gc3RyLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoKHApPT5wLnNsaWNlKDAsIGxlbikgPT09IHN0cilcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCByZXN1bHQgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQubWFwKChwKT0+cC5yZXBsYWNlKC9eXFwubnVsbC8sXCJcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoIHByb3AgPT09IFwicmVsYXRpb25zaGlwc1wiKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGF0aCA9IHJlY2VpdmVyLnBhdGhzKC4uLmFyZ3VtZW50cylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXRoPy5tYXAoKHApPT5wLnNwbGl0KCcuJykuc2xpY2UoLTEpWzBdKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmKCBwcm9wID09PSBcImFsbFwiKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiggcHJvcCA9PT0gXCJpZHNcIiAmJiB0YXJnZXQgaW5zdGFuY2VvZihBcnJheSkpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0Lm1hcCgoZCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBkIGluc3RhbmNlb2YoT2JqZWN0KSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRcbiAgICAgICAgICAgICAgICAgICAgICAgIH19KS5maWx0ZXIoKGQpPT5kKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiggcHJvcCA9PT0gXCJ1bmlxdWVJZHNcIiAmJiB0YXJnZXQgaW5zdGFuY2VvZihBcnJheSkpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5pcXVlQXJyYXkoIHJlY2VpdmVyLmlkcyApXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYoIHByb3AgPT09IFwiYWxsSWRzXCIpe1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmbGF0dGVuID0gKHYpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh2KS5tYXAoKGQpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGQgaW5zdGFuY2VvZihPYmplY3QpICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmbGF0dGVuKGQpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZsYXQoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmbGF0dGVuKCB0YXJnZXQgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiggcHJvcCA9PT0gXCJ1bmlxdWVBbGxJZHNcIil7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmlxdWVBcnJheSggcmVjZWl2ZXIuYWxsSWRzIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoIHByb3AgPT09IFwiZmlsdGVyXCIgfHwgcHJvcCA9PT0gXCJsZW5ndGhcIiB8fCBwcm9wID09PSBcIm1hcFwiKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFzZSA9IHJlY2VpdmVyLmFsbEl0ZW1zXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYmFzZVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5hcHBseShiYXNlLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoIEFycmF5LmlzQXJyYXkodGFyZ2V0KSApe1xuICAgICAgICAgICAgICAgICAgICBsZXQgb3V0XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5mb3JFYWNoKChkKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGQgaW5zdGFuY2VvZihPYmplY3QpICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHByb3AgaW4gZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dCA9IGRbcHJvcF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIGlmKCBvdXQgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJveHkob3V0LCBzdHJ1Y3R1cmUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYoIHByb3AgaW4gdGFyZ2V0ICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRhcmdldFtwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuYXBwbHkodGhpcyA9PT0gcmVjZWl2ZXIgPyB0YXJnZXQgOiB0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoIHByb3AgaW4gdGFyZ2V0ICl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJveHkodGFyZ2V0W3Byb3BdLCBzdHJ1Y3R1cmUpXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcyA9IHByb3AudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICBpZiggcyBpbiB0YXJnZXQgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJveHkodGFyZ2V0W3NdLCBzdHJ1Y3R1cmUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoIHByb3AgPT09IFwidW5kZXJseWluZ1wiKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiggcHJvcCA9PT0gXCJmcm9tUGF0aFwiKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgsIGNyZWF0ZSA9IGZhbHNlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub2RlID0gcmVjZWl2ZXIgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCB0eXBlb2YocGF0aCkgPT09IFwic3RyaW5nXCIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoLnNwbGl0KCcuJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0ID0gcGF0aC5wb3AoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwYXRoLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBsYXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHBhdGgucmV2ZXJzZSgpLnJlZHVjZSgobywgYywgaWR4KT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtbY106IGlkeCA9PT0gMCA/IGxhc3QgOiBvfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LHt9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkTm9kZSA9ICggbGFzdCwgc3RlcCwgcHJldkxhc3QsIHByZXZTdGVwKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1bmRlcmx5aW5nID0gbGFzdC51bmRlcmx5aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYGFkZGluZyAke3N0ZXB9YClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggQXJyYXkuaXNBcnJheSh1bmRlcmx5aW5nICkgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHVuZGVybHlpbmcubGVuZ3RoID09PSAwICYmIHByZXZMYXN0ICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggQXJyYXkuaXNBcnJheShwcmV2TGFzdCkgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcnIgPSBwcmV2TGFzdC51bmRlcmx5aW5nLmZpbmQoKGQpPT5PYmplY3Qua2V5cyhkKVswXSA9PSBwcmV2U3RlcClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggYXJyICApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJbcHJldlN0ZXBdID0ge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2TGFzdC51bmRlcmx5aW5nW3ByZXZTdGVwXSA9IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0ID0gcHJldkxhc3RbcHJldlN0ZXBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlcmx5aW5nID0gbGFzdC51bmRlcmx5aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlcmx5aW5nW3N0ZXBdID0gW11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlcmx5aW5nLnB1c2goe1tzdGVwXTogW119KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVybHlpbmdbc3RlcF0gPSBbXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFzdFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJldkxhc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcmV2U3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoIHBhdGggaW5zdGFuY2VvZihPYmplY3QpICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0ZXAgPSBPYmplY3Qua2V5cyhwYXRoKVswXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsYXN0ID0gbm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoW3N0ZXBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5vZGVbc3RlcF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggbm9kZSA9PT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGNyZWF0ZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdCA9IGFkZE5vZGUoIGxhc3QsIHN0ZXAsIHByZXZMYXN0LCBwcmV2U3RlcClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBsYXN0W3N0ZXBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZMYXN0ID0gbGFzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZTdGVwID0gc3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICFub2RlW3BhdGhdICYmIGNyZWF0ZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBhZGROb2RlKCBub2RlLCBwYXRoLCBwcmV2TGFzdCwgcHJldlN0ZXApXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZVtwYXRoXVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoIG9iaiApe1xuICAgICAgICAgICAgICAgICAgICAvLyB3YXMgaGVyZVxuICAgICAgICAgICAgICAgICAgICBpZiggcHJvcCA9PT0gXCJpdGVtc1wiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWNlaXZlci5pZHMubWFwKChkKT0+b2JqLnByaW1pdGl2ZShkKSkuZmlsdGVyKChkKT0+ZClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiggcHJvcCA9PT0gXCJhbGxJdGVtc1wiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWNlaXZlci5hbGxJZHMubWFwKChkKT0+b2JqLnByaW1pdGl2ZShkKSkuZmlsdGVyKChkKT0+ZClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiggcHJvcCA9PT0gXCJ1bmlxdWVBbGxJdGVtc1wiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWNlaXZlci51bmlxdWVBbGxJZHMubWFwKChkKT0+b2JqLnByaW1pdGl2ZShkKSkuZmlsdGVyKChkKT0+ZClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiggcHJvcCA9PT0gXCJ1bmlxdWVJdGVtc1wiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWNlaXZlci51bmlxdWVJZHMubWFwKChkKT0+b2JqLnByaW1pdGl2ZShkKSkuZmlsdGVyKChkKT0+ZClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiggb2JqLnR5cGVzLmluY2x1ZGVzKHByb3ApKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWNlaXZlci5pdGVtcy5maWx0ZXIoKHApPT5wLnR5cGU9PT1wcm9wKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKCBwcm9wLnNsaWNlKDAsNikgPT09ICd1bmlxdWUnICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IHByb3Auc2xpY2UoNikudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIG9iai50eXBlcy5pbmNsdWRlcyh0eXBlKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlY2VpdmVyLnVuaXF1ZUl0ZW1zLmZpbHRlcigocCk9PnAudHlwZSA9PT0gdHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiggcHJvcC5zbGljZSgwLDkpID09PSAnYWxsVW5pcXVlJyApe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGUgPSBwcm9wLnNsaWNlKDkpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBvYmoudHlwZXMuaW5jbHVkZXModHlwZSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWNlaXZlci51bmlxdWVBbGxJdGVtcy5maWx0ZXIoKHApPT5wLnR5cGUgPT09IHR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYoIHByb3Auc2xpY2UoMCwzKSA9PT0gJ2FsbCcgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eXBlID0gcHJvcC5zbGljZSgzKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggb2JqLnR5cGVzLmluY2x1ZGVzKHR5cGUpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVjZWl2ZXIuYWxsSXRlbXMuZmlsdGVyKChwKT0+cC50eXBlID09PSB0eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKCB0YXJnZXRbbnVsbF0pe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb3h5KHRhcmdldFtudWxsXSwgc3RydWN0dXJlKVtwcm9wXVxuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb3h5KFtdLCBzdHJ1Y3R1cmUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJ1Y3R1cmVcbiAgICB9Il0sIm1hcHBpbmdzIjoiMm9DQUFlLFNBQVNBLGVBQWVBLENBQUNDLEdBQUcsRUFBQztFQUN4QyxJQUFNQyxXQUFXLEdBQUcsU0FBZEEsV0FBV0EsQ0FBSUMsQ0FBQyxFQUFHO0lBQ3JCLE9BQU9BLENBQUMsQ0FBQ0MsTUFBTSxDQUFDLFVBQUNDLENBQUMsRUFBQ0MsQ0FBQyxVQUFHSCxDQUFDLENBQUNJLE9BQU8sQ0FBQ0YsQ0FBQyxDQUFDLEtBQUtDLENBQUMsR0FBQztFQUM5QyxDQUFDO0VBQ0QsSUFBTUUsU0FBUyxHQUFHO0lBQ1ZDLEdBQUcsV0FBQUEsSUFBQ0MsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLFFBQVEsRUFBRTtNQUN4QixJQUFJRCxJQUFJLEtBQUssS0FBSyxFQUFFO1FBQ2hCLE9BQU8sWUFBVTtVQUNiLElBQUlFLElBQUksR0FBR0MsU0FBUyxDQUFDLENBQUMsQ0FBQztVQUN2QixJQUFJQSxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDZCxJQUFNQyxJQUFJLEdBQUdILFFBQVEsQ0FBQ0ksUUFBUSxDQUFDRixTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDOztZQUVsRCxJQUFJLENBQUNDLElBQUksRUFBQztjQUNORSxPQUFPLENBQUNDLElBQUksa0JBQWtCO2NBQzlCRCxPQUFPLENBQUNFLEdBQUcsQ0FBQ0osSUFBSSxDQUFDO2NBQ2pCLE9BQU9LLFNBQVM7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